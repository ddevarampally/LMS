<h2 class="page-heading">Change Password</h2>
<br>

<%= form_for(@user, url: home_change_password_path, html: { :id => "change-password-form" }) do |f| %>
	<div class="container" style="width: 15%;">
		<div class="form-group">
			<% if !@user.is_change_pwd_link.nil? && @user.is_change_pwd_link %>
				<%= f.hidden_field :is_change_pwd_link %>
				<%= f.password_field :current_password, required: true, :class => "form-control textbox-format", placeholder: "Current Password", autofocus: true %>
			<% end %>
		</div>
		<div class="form-group">
			<%= f.password_field :new_password, required: true, :class => "form-control textbox-format", placeholder: "New Password" %>
		</div>
		<div class="form-group">
			<%= f.password_field :confirm_password, required: true, :class => "form-control textbox-format", placeholder: "Confirm Password" %>
		</div>
		<div class="form-group">
			<%= f.button "Clear", type: "reset", :class => "btn btn-info" %> &nbsp;
			<%= f.submit "Confirm", :class => "btn btn-primary" %>
		</div>
	</div>
<% end %>	
<br>
<div id="form-message" class="flash-message"></div>

<script type="text/javascript">
	
	$(document).ready(function() {
		$('#change-password-form').submit(function() {			
			$('#form-message').empty();
			var new_password = $('#user_new_password').val();
			var confirm_password = $('#user_confirm_password').val();
			
			if(new_password != confirm_password) {
				$('#form-message').html('New Password and Confirm Password does not match');
				return false;
			}			
		})
	})	

</script>