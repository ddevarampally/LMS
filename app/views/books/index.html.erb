<h2 class="page-heading">Book Management</h2>
<div class="span3 pull-right text-center" style="margin-bottom:10px; margin-right:2.7%;">
	<button id="add-new-book" class="btn btn-primary font-family" style="width: 120px; color:white;" >Add Book</button>
</div>
<table id="book_management_grid" class="display">
    <thead>
        <tr>
            <th>Book Name</th>
            <th>Picture</th>
            <th>Description</th>
            <th>Book Status</th>
            <th>Borrowed By</th>
            <th>Borrowed Date</th>
            <th>Due Date</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        <% @books.each do |book| %> 
        <tr style="text-align: center;">
            <td><%= book.book_name %></td>
            <td><%=  %></td>
            <td><%= simple_format (word_wrap(book.description, :line_width => 40))   %></td>
            <td><%= book.status.status_name   %></td>
            <td><%= book.user ? book.user.last_name + ',' + book.user.first_name : '' %></td>
            <td><%= book.borrowed_date.try(:strftime, '%B %d, %Y')  %></td>
            <td><%= book.due_date.try(:strftime, '%B %d, %Y') %></td>
            <td> 
                <%= button_to("Edit") %>
                <%= button_to("Delete") %>
                <%= button_to("Subscribe") %>
            </td>            
        </tr> <br />
        <% end %>
    </tbody>    
</table>

<script type="text/javascript">

  $(document).ready(function() {  
      $('#book_management_grid').dataTable({
        sPaginationType: "full_numbers",
        bJQueryUI: true
      })

      $('#book_management_grid_wrapper').addClass('datatable-format')
   })

</script>